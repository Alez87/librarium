---
title: "Deployment Lifecycle"
metaTitle: "Edge Deployment Lifecycle"
metaDescription: "Learn about the Edge Deployment Lifecycle"
hideToC: false
fullWidth: false
---

import Tabs from 'shared/components/ui/Tabs';
import WarningBox from 'shared/components/WarningBox';
import InfoBox from 'shared/components/InfoBox';
import PointsOfInterest from 'shared/components/common/PointOfInterest';

# Edge Deployment Lifecycle

The typical end-to-end lifecycle of deploying clusters at edge locations involves several distinct phases, and within each phase, different organizations or teams need to perform specific tasks.
 
 <br />

 ![native-edge-deployment-lifecycle.png](/native-edge-deployment-lifecycle.png)

* Modeling - App owners build and test the applications in test environments and model application profiles in Palette for cluster installation.


* Staging - IT/Ops teams prepare an edge host installer variant from the base installer provided by Palette. Available customizations common to all edge locations are applied to the base installer in this phase. This includes specifying or overriding properties such as Palette endpoints,registration app URL for QR code-based registration, default OS users, default network settings, etc. This edge host installer variant is then shipped to all site locations. The Edge Installer Variant can be an ISO (bare-metal), OVA (VMware),  AMI (AWS), or QCOW2 (OpenStack or MaaS). The staging section below describes the procedures to create each of these variants.


* Installation - Site operators provision one or more edge hosts using the image prepared by the staging phase at the edge location. Site-specific properties are supplied during this phase by the site operator. This typically involves specifying site-specific properties such as static IP address, network proxy, certificate, etc.


* Registration - Edge hosts need to be registered with the Palette user interface (UI) or through registration tokens. Each cluster requires a cluster profile. Clusters are configured with infrastructure and add-on profiles modeled by app architects during the modeling phase. This step can be performed in one of the following two ways:

  * Serverless - This means deploying an application without needing to manage a server to automate edge device registration. We provide a sample application you can customize to fit your needs.

  * IT Ops teams register the edge hosts and configure clusters using the UI, API or Terraform.

The Palette Edge Management agent inside the edge host waits for the configuration to be available in Palette Management Console. Once registration and configuration are complete, the agent installs the Kubernetes cluster. The Kubernetes distribution, version, and other configuration properties are read from the associated infrastructure profile in the cluster configuration. Additional add-ons, if any, are deployed after the Kubernetes installation is complete. You can install a single or multi-node cluster using this process. You can also scale up your cluster at a later point after deployment.

If the edge location configuration is known and predictable, then Staging, Installation, and Registration can be combined into one step by the central IT/Ops team,  then ship the fully configured edge hosts to the edge location. The site operator at the edge location needs to hook up the power and network cables without any further device configuration. The edge cluster will be ready to be centrally managed for future upgrades.

<br />

# Kubernetes Defaults

The Kubernetes Packs for Edge Native deployments disable a few items by default to allow users to install those items independently or to avoid duplication. The following items are disabled by default.

* Traefik

* SERVICE-lb

* local-path provisioner

* Flannel

**Example Scenario:**

For the Palette Optimized k3s pack, the default network component flannel is disabled to allow the user to independently use any container network interface pack such as Flannel or others, as part of the network layer of a cluster profile.

The component metric server is disabled to avoid duplication of the metrics server, since the Palette agent already installs the metrics-server by default.

```
cluster:
 config:
   # disable the built in cni
   flannel-backend: none
   no-flannel: true
   disable-network-policy: true
   Disable:
     - metrics-server
```

<br />
